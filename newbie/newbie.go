//Time to destroy newbie armor stuff, joys..
package newbie

import (
	"fmt"
	"github.com/jmoiron/sqlx"
	"github.com/xackery/eqcleanup/tools/quest"
	//"github.com/xackery/eqcleanup/tools/spawngroup"
	"github.com/xackery/eqcleanup/tools/item"
	"github.com/xackery/eqemuconfig"
)

var focus = "newbie"

func Clean(db *sqlx.DB, config *eqemuconfig.Config) (err error) {
	ids := loadIds()

	totalChanged, err := item.RemoveAllInstancesOfItems(db, ids)
	if err != nil {
		return
	}
	fmt.Println("Removed", totalChanged, " DB entries related to", focus, "in all player-accessible item locations.")
	filePaths := []string{
		"felwithea/Exterminator_Valern.pl",
		"freeporteast/Exterminator_Larkey.lua",
		"freeporteast/Exterminator_Qalantir.lua",
		"freporte/Exterminator_Larkey.lua",
		"freportw/Exterminator_Qalantir.lua",
		"kaladimb/Exterminator_Vin.pl",
		"neriakb/Exterminator_Damasi.pl",
		"neriakc/Exterminator_Gilea.pl",
		"qeynos/Exterminator_Rasmon.lua",
		"qeynos2/Exterminator_Wintloag.lua",
		"rivervale/Exterminator_Sutten.lua",
	}

	delCount, err := quest.Remove(config, filePaths)
	if err != nil {
		fmt.Println(err.Error())
	}
	fmt.Println("Deleted", delCount, focus, "related quest files")
	return
}

func loadIds() (ids []int64) {
	ids = []int64{17525,
		40598,
		50005,
		50006,
		50007,
		50008,
		50009,
		50010,
		50011,
		50012,
		50013,
		50014,
		50015,
		50016,
		50017,
		50018,
		50019,
		50020,
		50021,
		50022,
		50023,
		50024,
		50025,
		50026,
		50027,
		50028,
		50029,
		50030,
		50031,
		50032,
		50033,
		50034,
		50035,
		50036,
		50037,
		50038,
		50039,
		50040,
		50041,
		50042,
		50043,
		50044,
		50045,
		50046,
		50047,
		50048,
		50049,
		50050,
		50051,
		50052,
		50053,
		50054,
		50055,
		50056,
		50057,
		50058,
		50059,
		50060,
		50061,
		50062,
		50063,
		50064,
		50065,
		50066,
		50067,
		50068,
		50069,
		50070,
		50071,
		50072,
		50073,
		50074,
		50075,
		50076,
		50077,
		50078,
		50079,
		50080,
		50081,
		50082,
		50083,
		50084,
		50085,
		50086,
		50087,
		50088,
		50089,
		50090,
		50091,
		50092,
		50093,
		50094,
		50095,
		50096,
		50097,
		50098,
		50099,
		50100,
		50101,
		50102,
		50103,
		50104,
		50105,
		50106,
		50107,
		50108,
		50109,
		50110,
		50111,
		50112,
		50113,
		50114,
		50115,
		50116,
		50117,
		50118,
		50119,
		50120,
		50121,
		50122,
		50123,
		50124,
		50125,
		50126,
		50127,
		50128,
		50129,
		50130,
		50131,
		50132,
		50133,
		50134,
		50135,
		50136,
		50137,
		50138,
		50139,
		50140,
		50141,
		50142,
		50143,
		50144,
		50145,
		50146,
		50147,
		50148,
		50149,
		50150,
		50151,
		50152,
		50153,
		50154,
		50155,
		50156,
		50157,
		50158,
		50159,
		50160,
		50161,
		50162,
		50163,
		50164,
		50165,
		50166,
		50167,
		50168,
		50169,
		50170,
		50171,
		50172,
		50173,
		50174,
		50175,
		50176,
		50177,
		50178,
		50179,
		50180,
		50181,
		50182,
		50183,
		50184,
		50185,
		50186,
		50187,
		50188,
		50189,
		50190,
		50191,
		50192,
		50193,
		50194,
		50195,
		50196,
		50197,
		50198,
		50199,
		50200,
		50201,
		50202,
		50203,
		50204,
		50205,
		50206,
		50207,
		50208,
		50209,
		50210,
		50211,
		50212,
		50213,
		50214,
		50215,
		50216,
		50217,
		50218,
		50219,
		50220,
		50221,
		50222,
		50223,
		50224,
		50225,
		50226,
		50227,
		50228,
		50229,
		50230,
		50231,
		50232,
		50233,
		50234,
		50235,
		50236,
		50237,
		50238,
		50239,
		50240,
		50241,
		50242,
		50243,
		50244,
		50245,
		50246,
		50500,
		50501,
		50502,
		50503,
		50504,
		50505,
		50506,
		50507,
		50508,
		50509,
		50510,
		50511,
		50512,
		50513,
		50514,
		50515,
		50516,
		50517,
		50518,
		50519,
		50520,
		50521,
		50522,
		50523,
		50524,
		50525,
		50526,
		50527,
		50528,
		50529,
		50530,
		50531,
		50532,
		50533,
		50534,
		50535,
		50536,
		50537,
		50540,
		50541,
		50542,
		50543,
		50544,
		50545,
		50546,
		50547,
		50548,
		50549,
		50550,
		50551,
		50552,
		50553,
		50554,
		50555,
		50556,
		50557,
		50558,
		50559,
		50560,
		50561,
		50562,
		50563,
		50564,
		50565,
		50566,
		50567,
		50568,
		50569,
		50570,
		50571,
		50572,
		50573,
		50574,
		50575,
		50576,
		50577,
		50578,
		50579,
		50580,
		50581,
		50582,
		50583,
		50584,
		50585,
		50586,
		50587,
		50588,
		50589,
		50590,
		50591,
		50592,
		50593,
		50594,
		50595,
		50596,
		50597,
		50598,
		50599,
		50600,
		50601,
		50602,
		50603,
		50604,
		50605,
		50606,
		50607,
		50608,
		50609,
		50610,
		50611,
		50612,
		50613,
		50614,
		50615,
		50616,
		50617,
		50618,
		50619,
		50620,
		50621,
		50622,
		50623,
		50624,
		50625,
		50626,
		50627,
		50628,
		50629,
		50630,
		50631,
		60500,
		60501,
		60502,
		60503,
		60504,
		60505,
		60506,
		60507,
		60508,
		60509,
		60510,
		60511,
		60512,
		60513,
		60514,
		60515,
		60516,
		60517,
		60518,
		60519,
		60520,
		60521,
		60522,
		60523,
		60524,
		60525,
		60526,
		60527,
		60548,
		60549,
		60550,
		60551,
		60552,
		60553,
		60554,
		60555,
		60556,
		60557,
		60558,
		60559,
		60560,
		60561,
	}
}
